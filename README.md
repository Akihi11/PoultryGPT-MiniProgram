# PoultryGPT 微信小程序

一个专业的家禽养殖 AI 助手微信小程序，基于 TDesign 组件库开发。

## 功能特性

### 🐤 核心功能

- **智能对话**：专业的家禽养殖知识问答
- **任务编排**：可视化的 AI 工作流展示
- **历史记录**：对话历史管理和搜索
- **多模型支持**：PoultryGPT-Turbo、PoultryGPT-4、Dify Workflow

### 📱 界面特性

- **移动端优化**：专为手机设计的用户界面
- **TDesign 组件**：使用腾讯 TDesign 组件库
- **主题支持**：支持白天/夜晚模式切换
- **多语言**：支持简体中文、繁体中文、英语、日语、韩语

### 🔧 交互特性

- **左滑操作**：历史记录支持左滑重命名/删除
- **实时搜索**：历史记录实时搜索和高亮
- **手势友好**：针对触摸操作优化

## 项目结构

```
miniprogram/
├── app.json                 # 小程序配置文件
├── app.ts                   # 小程序入口文件
├── app.wxss                 # 全局样式文件
├── images/                  # 图片资源目录
│   └── README.md           # 图标文件说明
├── pages/                   # 页面目录
│   ├── chat/               # 聊天页面
│   │   ├── index.wxml      # 页面结构
│   │   ├── index.wxss      # 页面样式
│   │   ├── index.ts        # 页面逻辑
│   │   └── index.json      # 页面配置
│   ├── history/            # 历史记录页面
│   │   ├── index.wxml
│   │   ├── index.wxss
│   │   ├── index.ts
│   │   └── index.json
│   └── settings/           # 设置页面
│       ├── index.wxml
│       ├── index.wxss
│       ├── index.ts
│       └── index.json
├── utils/                   # 工具函数目录
│   └── util.ts             # 工具函数
└── typings/                # TypeScript类型定义
    ├── index.d.ts
    └── types/
        ├── index.d.ts
        └── wx/             # 微信API类型定义
            ├── index.d.ts
            ├── lib.wx.api.d.ts
            ├── lib.wx.app.d.ts
            ├── lib.wx.behavior.d.ts
            ├── lib.wx.cloud.d.ts
            ├── lib.wx.component.d.ts
            ├── lib.wx.event.d.ts
            └── lib.wx.page.d.ts

prototype/                   # 原型文件（参考）
├── chat.html               # 聊天页面原型
├── history.html            # 历史记录页面原型
├── settings.html           # 设置页面原型
└── index.html              # 首页原型

docs/                        # 文档目录
└── prd.md                  # 产品需求文档
```

## 页面说明

### 1. 聊天页面 (`pages/chat/index`)

- **顶部导航**：模型选择、新建对话、侧边栏入口
- **聊天内容区**：消息列表、任务编排模块、欢迎界面
- **底部输入框**：文本输入、发送按钮、附件选择
- **侧边栏**：历史记录搜索和管理

#### 核心功能

- 智能对话交互
- 任务编排可视化展示
- 支持 Markdown 渲染
- 模型切换（PoultryGPT-Turbo、PoultryGPT-4、Dify Workflow）
- 多媒体输入支持（文件、照片、拍照）

### 2. 历史记录页面 (`pages/history/index`)

- **顶部搜索**：实时搜索历史对话
- **记录列表**：卡片式布局展示历史对话
- **左滑操作**：支持重命名和删除操作
- **空状态**：无记录时的引导界面

#### 核心功能

- 历史对话管理
- 实时搜索和关键词高亮
- 左滑手势操作
- 对话重命名和删除

### 3. 设置页面 (`pages/settings/index`)

- **账号管理**：用户账号相关设置
- **应用设置**：主题切换、语言选择
- **关于信息**：应用信息、GitHub 链接
- **退出登录**：用户登出功能

#### 核心功能

- 主题切换（白天/夜晚模式）
- 多语言支持
- 应用信息展示
- 用户登出

## 技术栈

- **框架**：微信小程序原生框架
- **语言**：TypeScript
- **组件库**：TDesign Mini Program
- **样式**：WXSS + CSS 变量
- **状态管理**：Page Data + 本地存储

## 设计特色

### 🎨 视觉设计

- **渐变主题**：蓝色渐变主色调 (#0052d9 to #266fe8)
- **现代 UI**：圆角设计、卡片布局、阴影效果
- **响应式**：适配不同屏幕尺寸
- **无障碍**：合理的颜色对比度和字体大小

### 🔄 交互设计

- **手势操作**：支持左滑、长按等移动端手势
- **即时反馈**：点击、悬停状态反馈
- **流畅动画**：0.3s 缓动过渡效果
- **智能切换**：输入状态自动切换发送按钮

### 📱 移动端优化

- **安全区域**：适配 iPhone 刘海屏和底部指示器
- **触摸友好**：按钮大小符合 44pt 最小触摸区域
- **键盘适配**：输入时自动调整布局
- **性能优化**：懒加载、虚拟滚动等优化策略

## 开发说明

### 依赖要求

- 微信开发者工具
- TDesign Mini Program 组件库
- TypeScript 支持

### 本地开发

1. 使用微信开发者工具打开项目
2. 安装 TDesign Mini Program 组件库
3. 配置小程序 AppID
4. 开始开发调试

### 组件使用

项目中使用了以下 TDesign 组件：

- `t-button` - 按钮组件
- `t-input` - 输入框组件
- `t-search` - 搜索框组件
- `t-cell` / `t-cell-group` - 单元格组件
- `t-dialog` - 对话框组件
- `t-popup` - 弹出层组件
- `t-swipe-cell` - 滑动单元格组件
- `t-switch` - 开关组件
- `t-radio` / `t-radio-group` - 单选框组件
- `t-action-sheet` - 动作面板组件

### 样式规范

- 使用 CSS 变量统一管理主题色彩
- 采用 BEM 命名规范
- 响应式单位（rpx）
- 语义化 class 命名

## 待完善功能

### 🚀 功能增强

- [ ] 实际 AI 接口集成
- [ ] 用户登录注册
- [ ] 对话数据同步
- [ ] 语音输入支持
- [ ] 图片识别功能
- [ ] 消息导出功能

### 🎯 性能优化

- [ ] 大量消息时的虚拟滚动
- [ ] 图片懒加载和压缩
- [ ] 缓存策略优化
- [ ] 代码分包加载

### 🌐 国际化

- [ ] 完整的多语言支持
- [ ] 右到左语言支持
- [ ] 地区化时间格式

## 许可证

此项目仅供学习和参考使用。

---

**PoultryGPT Team** © 2024
