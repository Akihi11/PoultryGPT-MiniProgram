# PoultryGPT 产品需求文档 (PRD)

这个原型是一个专业的家禽养殖 AI 助手应用，包含三个核心界面：主聊天界面、侧边栏历史记录和设置页面。

## 1. 主聊天界面 (Main Chat View)

这是应用的默认和核心视图，采用移动端友好的设计。

### 顶部导航栏 (Header):

- **左侧**:

  - 汉堡菜单图标 (☰)：点击后从左侧滑出历史记录侧边栏
  - 新建对话图标 (+)：点击后清空当前对话，开始新的对话

- **中间**:
  - 模型切换按钮：居中显示当前选中的模型名称（如"PoultryGPT-Turbo"），点击后弹出下拉菜单
  - 下拉菜单包含三个选项：
    - PoultryGPT-Turbo
    - PoultryGPT-4
    - Dify Workflow

### 聊天内容区 (Chat Area):

- **消息布局**：

  - 用户消息：右对齐，蓝色渐变气泡，头像在右侧
  - AI 消息：左对齐，白色气泡，AI 头像（🐤）在左侧

- **任务编排模块**：

  - 位于 AI 回复上方，显示工作流执行步骤
  - 包含可折叠的步骤列表，每个步骤前有绿色对勾 (✓)
  - 根据不同场景显示不同的工作流：
    - 基础咨询：问题分析 → 知识库检索 → 专业知识匹配 → 内容生成 → 格式化输出
    - 疾病诊断：症状识别 → 病因分析 → 诊断匹配 → 治疗方案生成 → 风险评估 → 预防建议
    - 饲料配方：需求分析 → 生长阶段判断 → 营养计算 → 配方优化 → 成本评估

- **Markdown 支持**：
  - 完整的 Markdown 渲染，包括标题、列表、表格、代码块
  - 代码高亮支持
  - 响应式表格和图片

### 底部输入框 (Input Footer):

- **输入区域**：

  - 圆角文本输入框，提示文字"请输入您的问题..."
  - 支持回车键发送消息

- **操作按钮**：
  - 默认显示加号 (+) 按钮
  - 当输入框有内容时，自动切换为发送按钮 (→)
  - 加号按钮点击后弹出底部操作菜单，包含：
    - 📁 文件
    - 🖼️ 照片
    - 📷 拍照

## 2. 侧边栏历史记录 (History Sidebar)

从主聊天界面左侧滑入，采用抽屉式设计。

### 顶部搜索区:

- **搜索功能**：

  - 搜索框提示文字："搜索历史记录"
  - 实时搜索，支持标题和内容搜索
  - 搜索结果高亮显示
  - 显示搜索结果数量统计

- **设置入口**：
  - 右上角设置图标 (⚙️)
  - 点击后导航到设置页面

### 历史记录列表:

- **列表样式**：

  - 卡片式布局，每个条目包含：
    - 对话标题（大字体，深色）
    - 对话预览（小字体，灰色，最多显示 2 行）
    - 时间戳（最小字体，浅灰色）

- **左滑操作**：

  - 支持触摸手势左滑
  - 滑动距离超过阈值时显示操作按钮
  - 两个操作选项：
    - ✏️ 重命名（橙色背景）
    - 🗑️ 删除（红色背景）
  - 丝滑的动画效果和弹性反馈

- **交互功能**：
  - 点击条目打开对应对话
  - 重命名支持弹窗输入
  - 删除需要确认提示

### 样本数据：

- 肉鸡养殖的基本要求
- 疫苗接种时间表
- 饲料配方优化建议
- 鸡舍通风系统设计
- 疾病预防措施
- 成本核算方法

## 3. 设置页面 (Settings Page)

从侧边栏设置图标进入的独立页面。

### 页面结构:

- **顶部导航**：
  - 返回按钮 (←)
  - 页面标题："设置"

### 设置内容（分组列表样式）:

#### 第一组：账号管理

- **账号管理** → (带右箭头图标)

#### 第二组：应用设置

- **外观设置**：

  - 分段控件样式，包含两个选项：
    - 白天（默认选中）
    - 夜晚
  - 注：已移除"跟随系统"选项

- **语言设置** →
  - 显示当前语言："简体中文"
  - 点击进入语言选择弹窗
  - 支持多语言：简体中文、繁體中文、English、日本語、한국어

#### 第三组：关于和帮助

- **关于 PoultryGPT** → (显示版本信息和团队信息)
- **GitHub** → (带外部链接图标 ↗)

### 底部操作:

- **退出登录按钮**：
  - 红色背景，独立布局
  - 与上方内容有明显间距
  - 点击后弹出确认对话框

### 弹窗组件:

- **退出登录确认**：模态框样式，包含取消和确认按钮
- **语言选择**：列表式选择器，支持单选和确认

## 4. 技术特性

### UI/UX 设计:

- **移动端优先**：iPhone 15 Pro 适配（393×852 像素）
- **现代设计**：使用 TDesign Mobile 组件库
- **渐变主题**：蓝色渐变主色调 (#0052d9 to #266fe8)
- **响应式布局**：适配不同屏幕尺寸
- **流畅动画**：0.3s 缓动过渡效果

### 交互体验:

- **触摸友好**：支持移动端手势操作
- **即时反馈**：按钮悬停和点击状态
- **智能切换**：输入状态自动切换发送按钮
- **无障碍支持**：合理的颜色对比度和字体大小

### 技术栈:

- **前端**：HTML5 + CSS3 + JavaScript (ES6+)
- **样式**：Tailwind CSS + TDesign Mobile
- **Markdown**：Marked.js + Highlight.js
- **字体**：系统默认字体栈
- **图标**：Emoji + Unicode 符号

## 5. 用户流程

### 主要用户路径:

1. **新用户首次使用** → 欢迎界面 → 开始对话
2. **日常使用** → 查看历史对话 → 继续或新建对话
3. **专业咨询** → 输入问题 → 查看任务编排 → 获得专业回答
4. **个性化设置** → 侧边栏设置 → 调整外观和语言

### 核心功能流程:

- **智能对话**：问题输入 → 任务编排展示 → 专业回答生成
- **历史管理**：快速搜索 → 左滑操作 → 重命名/删除
- **模型切换**：中央下拉选择 → 即时切换模型

这个原型展现了一个专业、现代、易用的家禽养殖 AI 助手应用，集成了先进的工作流可视化和移动端最佳实践。
